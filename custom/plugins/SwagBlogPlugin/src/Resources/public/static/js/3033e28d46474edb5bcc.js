"use strict";(window["webpackJsonpPluginswag-blog-plugin"]=window["webpackJsonpPluginswag-blog-plugin"]||[]).push([[733],{733:function(t,e,i){i.r(e),i.d(e,{default:function(){return l}});let{Mixin:s,Context:o,Data:{Criteria:a}}=Shopware;var l={template:'{% block swag_blog_create %}\n<swag-blog-detail v-bind="$attrs" v-on="$listeners" />\n{% endblock %}\n',created(){this.loadCategories(),this.loadEntity()},methods:{loadEntity(){let t=this.blogRepository.create(o.api);this.blog={...this.blog,...t,errors:{...this.blog.errors}}},onSave(){if(!this.blog.title||""===this.blog.title.trim()){this.blog.errors.title="Title must not be empty",this.createNotificationError({message:"Please fill the Title field."});return}this.isLoading=!0,this.blogRepository.save(this.blog,o.api).then(()=>{this.createNotificationSuccess({message:"Blog created successfully."}),this.$router.push({name:"swag.blog.detail",params:{id:this.blog.id}})}).catch(()=>{this.createNotificationError({message:"Failed to create blog."})}).finally(()=>{this.isLoading=!1})}}}}}]);