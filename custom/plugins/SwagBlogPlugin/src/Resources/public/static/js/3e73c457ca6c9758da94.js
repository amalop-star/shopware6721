"use strict";(window["webpackJsonpPluginswag-blog-plugin"]=window["webpackJsonpPluginswag-blog-plugin"]||[]).push([[733],{733:function(t,e,i){i.r(e),i.d(e,{default:function(){return o}});let{Mixin:s}=Shopware;var o={template:'{% block swag_blog_create %}\n<swag-blog-detail v-bind="$attrs" v-on="$listeners" />\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[s.getByName("notification")],data(){return{blog:null,isLoading:!1,isSaveSuccessful:!1}},computed:{repository(){return this.repositoryFactory.create("swag_blog")}},created(){this.loadEntity()},methods:{loadEntity(){this.blog=this.repository.create(Shopware.Context.api)},onSave(){if(this.blog.errors={},!this.blog.title||""===this.blog.title.trim()){this.blog.errors={title:"Title must not be empty."},this.createNotificationError({message:this.$tc("swag-blog.detail.messageTitleRequired")||"Please fill the Title field."});return}this.isLoading=!0,this.isSaveSuccessful=!1,this.repository.save(this.blog,Shopware.Context.api).then(t=>{this.isSaveSuccessful=!0,this.createNotificationSuccess({message:this.$tc("swag-blog.detail.messageSaveSuccess")}),this.$router.push({name:"swag.blog.detail",params:{id:this.blog.id}})}).catch(()=>{this.createNotificationError({message:this.$tc("swag-blog.detail.messageSaveError")})}).finally(()=>{this.isLoading=!1})}}}}}]);