"use strict";(window["webpackJsonpPluginswag-blog-plugin"]=window["webpackJsonpPluginswag-blog-plugin"]||[]).push([[171],{171:function(t,e,n){n.r(e),n.d(e,{default:function(){return s}});let{Mixin:a,Data:{Criteria:l}}=Shopware;var s={template:'{% block swag_blog_category_list %}\n<sw-page class="swag-blog-category-list">\n    {# Search Bar #}\n    {% block swag_blog_category_list_search_bar %}\n    <template #search-bar>\n        <sw-search-bar\n            initial-search-type="swag_blog_category"\n            :placeholder="$tc(\'swag-blog-category.list.placeholderSearchBar\')"\n            :initial-search="term"\n            @search="onSearch"\n        />\n    </template>\n    {% endblock %}\n\n    {# Header #}\n    {% block swag_blog_category_list_header %}\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc(\'sw-settings.index.title\') }}\n            <sw-icon name="regular-chevron-right-xs" small />\n            {{ $tc(\'swag-blog-category.list.textHeadline\') }}\n\n            <span v-if="!isLoading" class="sw-page__smart-bar-amount">\n                ({{ total }})\n            </span>\n        </h2>\n    </template>\n    {% endblock %}\n\n    {# Actions (Add button) #}\n    {% block swag_blog_category_list_actions %}\n    <template #smart-bar-actions>\n        <sw-button\n            class="swag-blog-category-list__button-create"\n            :router-link="{ name: \'sw.settings.blog.category.create\' }"\n            variant="primary"\n        >\n            {{ $tc(\'swag-blog-category.list.buttonAdd\') }}\n        </sw-button>\n    </template>\n    {% endblock %}\n\n    {# Content (Grid) #}\n    {% block swag_blog_category_list_content %}\n    <template #content>\n        <sw-card-view>\n            <sw-card\n                class="swag-blog-category-list__card"\n                position-identifier="swag-blog-category-list"\n            >\n                <template #grid>\n                    <sw-grid\n                        v-show="items.length > 0"\n                        class="swag-blog-category-list-grid"\n                        :selectable="false"\n                        :items="items"\n                        table\n                    >\n                        {# Grid columns #}\n                        <template #columns="{ item }">\n\n                            {# Name column #}\n                            <sw-grid-column\n                                flex="minmax(180px, 2fr)"\n                                :label="$tc(\'swag-blog-category.list.columnName\')"\n                            >\n                                <router-link\n                                    :title="$tc(\'swag-blog-category.list.contextMenuEdit\')"\n                                    class="swag-blog-category-list__column-name"\n                                    :to="{ name: \'sw.settings.blog.category.detail\', params: { id: item.id } }"\n                                >\n                                    {{ item.name }}\n                                </router-link>\n                            </sw-grid-column>\n\n                            {# Actions column #}\n                            <sw-grid-column\n                                flex="minmax(70px, 70px)"\n                                align="center"\n                                label=""\n                            >\n                                <sw-context-button>\n                                    <sw-context-menu-item\n                                        class="swag-blog-category-list__edit-action"\n                                        :router-link="{ name: \'sw.settings.blog.category.detail\', params: { id: item.id } }"\n                                    >\n                                        {{ $tc(\'swag-blog-category.list.contextMenuEdit\') }}\n                                    </sw-context-menu-item>\n\n                                    <sw-context-menu-item\n                                        class="swag-blog-category-list__delete-action"\n                                        variant="danger"\n                                        @click="onDelete(item.id)"\n                                    >\n                                        {{ $tc(\'swag-blog-category.list.buttonDelete\') }}\n                                    </sw-context-menu-item>\n                                </sw-context-button>\n                            </sw-grid-column>\n\n                            {# Delete modal #}\n                            <sw-modal\n                                v-if="showDeleteModal === item.id"\n                                :title="$tc(\'global.default.warning\')"\n                                variant="small"\n                                @modal-close="onCloseDeleteModal"\n                            >\n                                <p>\n                                    {{ $tc(\'swag-blog-category.list.textDeleteConfirm\', 0, { name: item.name }) }}\n                                </p>\n\n                                <template #modal-footer>\n                                    <sw-button size="small" @click="onCloseDeleteModal">\n                                        {{ $tc(\'global.default.cancel\') }}\n                                    </sw-button>\n                                    <sw-button\n                                        variant="danger"\n                                        size="small"\n                                        @click="onConfirmDelete(item.id)"\n                                    >\n                                        {{ $tc(\'swag-blog-category.list.buttonDelete\') }}\n                                    </sw-button>\n                                </template>\n                            </sw-modal>\n                        </template>\n\n                        {# Pagination #}\n                        <template #pagination>\n                            <sw-pagination\n                                :page="page"\n                                :limit="limit"\n                                :total="total"\n                                :total-visible="7"\n                                @page-change="onPageChange"\n                            />\n                        </template>\n                    </sw-grid>\n                </template>\n\n                {# Empty state if no results #}\n                <sw-empty-state\n                    v-if="!isLoading && items.length <= 0"\n                    :absolute="false"\n                    :title="$tc(\'swag-blog-category.list.messageEmpty\')"\n                />\n            </sw-card>\n        </sw-card-view>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n',compatConfig:Shopware.compatConfig,mixins:[a.getByName("sw-settings-list")],data(){return{entityName:"swag_blog_category",sortBy:"name",showModal:!1,deleteEntity:null}},metaInfo(){return{title:this.$createTitle()}},computed:{titleSaveSuccess(){return this.$tc("global.default.success")},messageSaveSuccess(){return this.deleteEntity?this.$tc("swag-blog-category.list.messageDeleteSuccess",0,{name:this.deleteEntity.name}):""},listingCriteria(){let t=new l(this.page,this.limit);t.addSorting(l.sort(this.sortBy,this.sortDirection||"ASC"));let e=this.getMainListingParams();return e.term&&t.addFilter(l.contains("name",e.term)),t}},methods:{onDeleteCategory(t){this.deleteEntity=t,this.showModal=!0},confirmDeleteCategory(){this.repository.delete(this.deleteEntity.id,Shopware.Context.api).then(()=>{this.showModal=!1,this.deleteEntity=null,this.getList()})},cancelDelete(){this.showModal=!1,this.deleteEntity=null}}}}}]);